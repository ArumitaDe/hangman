<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors Part 1</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <style>
        div {
            text-shadow: 2px 2px 5px red;
            font-size: 40px;
            letter-spacing: 20px;
            margin-left: 400px;
        }
        
        #letters {
            margin-top: 200px;
            margin-bottom: 0px;
            padding-bottom: 0px;
        }
        
        #game {
            margin-top: 0px;
            padding-top: 0px;
        }
        
        #success {
            text-shadow: 2px 2px 5px yellow;
        }
    </style>
</head>

<body>

    <div id="success"> </div>

    <div id="letters"></div>

    <div id="game"> </div>




    <script type="text/javascript">
       

            function hangman() {

            this.displayArray = new Array();
            this.blankArray = new Array();
            this.userInputArray = new Array();

            this.noOfChancesleft = function noOfChancesleft(chancesTaken) {
                    return (totalNoChances - chancesTaken);
                },

          


                this.initializedisplayArray = function initializedisplayArray(currentWord) {
                    for (var i = 0; i < currentWord.length; i++) {
                        this.displayArray[i] = "&nbsp;";
                    }

                }


            this.checkLetter = function checkLetter(letterTyped, currentWord) {console.log("NOW IN CHECK LETTER");
                                                                               
             var flag =false;
                for (var i = 0; i < currentWord.length; i++) {
                    console.log("letterTyped  : "+ letterTyped );
                    console.log("currentWord.charAt(i) : " + currentWord.charAt(i));
                    if (letterTyped === currentWord.charAt(i)) {
                         $("#success").html("You have a letter match !! Great guess !!");
                        flag=true;
                        this.displayArray[i] = letterTyped;
                        console.log("this.displayArray[i] = letterTyped; " );
                        $("#letters").html(this.displayArray);

                    }
                           
                    
                }
                                                                               
              if((flag==false)&&(choiceEnter!=13)){ $("#success").html("No match.....try another letter");
                            console.log("now in  No match.....try another letter" );                                     
   
            }}

            this.letterLog = function letterLog(letter) {


                for (var j = 0; j < this.displayArray.length; j++) {

                    if (this.displayArray[j] === (letter)) {

                        return true;
                    }
                }

                return false;
            }


            this.displayBlanks = function displayBlanks(currentWord) {


                for (var j = 0; j < currentWord.length; j++)
                    this.blankArray[j] = "_";

                $("#game").html(this.blankArray);

            }

            };

       


        var num = 0;
        var Word,flag;
        var length = 0;
        var choice;
        var wordBank = ["apples", "oranges", "bananas","pear","grapes","kiwi","strawberry","blueberry","pineapple"];
        var choiceEnter;
        var x;
        var counter = 17;
        var keyflag = true;

        $("#success").html(" Hangman game GUESS THE FRUIT NAME... press enter key to begin ");



        document.onkeyup = function(e) {
            if ((keyflag==true )  && ((event.key =='a')||(event.key =='b')||(event.key =='c')||(event.key =='d')||(event.key =='e')||(event.key =='f')||(event.key =='g')||(event.key =='h')||(event.key =='i')||(event.key =='j')||(event.key =='k')||(event.key =='l')||(event.key =='m')||(event.key =='n')||(event.key =='o')||(event.key =='p')||(event.key =='q')||(event.key =='r')||(event.key =='s')||(event.key =='t')||(event.key =='u')||(event.key =='v')||(event.key =='w')||(event.key =='x')||(event.key =='y')||(event.key =='z')||(  e.keyCode == 13  )))
        
              
{
                if ((e.keyCode == 13) && (counter ==17 )) {
                    Word = wordBank[num];
                    x = new hangman();
                    x.displayBlanks(Word);
                    x.initializedisplayArray(Word);
                    counter = 0;
                      $("#success").html(" Enter your guessed letter ");
                    
                }
                



                choiceEnter=e.keyCode;
                choice = event.key;
            

                if (counter <= 15) {
                    if (x.letterLog(choice) === false || counter === 0) {
                        x.checkLetter(choice, Word);
                        counter = counter + 1;
                        if (x.displayArray.includes("&nbsp;") === false) {
                            counter = 17;
                           $("#success").html("SUCCESS !!!");
                           // $("input").prop('disabled', true);

                                setTimeout(function() { $("#game").html(" ");
                                $("#letters").html(" ");}, 3000);
                            
                            setTimeout(function() {
                                 $("#success").html(" ");
                                $("#success").html("Press enter to continue ");
                                 
                            
                            }, 3000);
                            // $("input").prop('disabled', false);
                            
                               
                             if (num < (wordBank.length-1) )num = num + 1;
                                else{if (num ==(wordBank.length-1)) setTimeout(function() {$("#success").html("  GAME OVER !!"); }, 3000);
                                }}
                            
                        }


                     else {
                      
                                $("#success").html("Please do not repeat letters....select the next letter "); 
                                counter = counter + 1;
                            }
                            }if (counter == 16) {
                                 $("#success").html("No of turns up for this word "); 
                                $("#letters").html(" ");
                                $("#game").html(" ");
                                console.log("wordBank :" + wordBank.length);
                                console.log("num : " + num);
                                counter = 17;
                                if (num < (wordBank.length-1) )num = num + 1;
                                else{if (num ===(wordBank.length-1)) setTimeout(function() {$("#success").html("  GAME OVER !!"); }, 3000);
                                }
                                
                            }

        } }
                    
    </script>



</body>

</html>